# FOGIS Match List Processor - Environment Configuration Template
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control - it contains sensitive information

# =============================================================================
# NOTIFICATION SYSTEM CONFIGURATION
# =============================================================================

# Enable/disable notification system
NOTIFICATION_SYSTEM_ENABLED=true

# Notification batch processing
NOTIFICATION_BATCH_SIZE=10
NOTIFICATION_BATCH_TIMEOUT=30

# =============================================================================
# EMAIL NOTIFICATION CONFIGURATION
# =============================================================================

# Enable email notifications
EMAIL_ENABLED=false

# SMTP Server Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=fogis-notifications@yourcompany.com
SMTP_USE_TLS=true

# Email rate limiting
EMAIL_MAX_PER_MINUTE=30
EMAIL_MAX_PER_HOUR=500

# =============================================================================
# DISCORD NOTIFICATION CONFIGURATION
# =============================================================================

# Enable Discord notifications
DISCORD_ENABLED=false

# Discord Webhook Configuration
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN
DISCORD_BOT_USERNAME=FOGIS Match Bot
DISCORD_AVATAR_URL=

# Discord rate limiting
DISCORD_MAX_PER_MINUTE=5
DISCORD_MAX_PER_HOUR=100

# =============================================================================
# WEBHOOK NOTIFICATION CONFIGURATION
# =============================================================================

# Enable webhook notifications
WEBHOOK_ENABLED=false

# Webhook Configuration
WEBHOOK_URL=https://your-webhook-endpoint.com/notifications
WEBHOOK_TIMEOUT=30
WEBHOOK_AUTH_TOKEN=your-webhook-auth-token

# Webhook rate limiting
WEBHOOK_MAX_PER_MINUTE=60
WEBHOOK_MAX_PER_HOUR=1000

# =============================================================================
# SECURITY AND MONITORING
# =============================================================================

# Data encryption (recommended for production)
NOTIFICATION_ENCRYPT_DATA=false

# Debug logging (disable in production)
NOTIFICATION_DEBUG=false

# Analytics and monitoring
NOTIFICATION_ANALYTICS_ENABLED=true
NOTIFICATION_HEALTH_CHECK_ENABLED=true

# =============================================================================
# DEVELOPMENT AND TESTING
# =============================================================================

# Test mode (overrides all recipients with test addresses)
NOTIFICATION_TEST_MODE=false
NOTIFICATION_TEST_EMAIL=test@yourcompany.com
NOTIFICATION_TEST_DISCORD_WEBHOOK=

# Mock services for development
NOTIFICATION_MOCK_EMAIL=false
NOTIFICATION_MOCK_DISCORD=false
NOTIFICATION_MOCK_WEBHOOK=false

# =============================================================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT ENVIRONMENTS
# =============================================================================

# DEVELOPMENT ENVIRONMENT EXAMPLE:
# EMAIL_ENABLED=false
# DISCORD_ENABLED=false
# WEBHOOK_ENABLED=false
# NOTIFICATION_TEST_MODE=true
# NOTIFICATION_DEBUG=true
# NOTIFICATION_MOCK_EMAIL=true

# STAGING ENVIRONMENT EXAMPLE:
# EMAIL_ENABLED=true
# DISCORD_ENABLED=true
# WEBHOOK_ENABLED=false
# NOTIFICATION_TEST_MODE=true
# NOTIFICATION_DEBUG=false
# SMTP_HOST=smtp.mailtrap.io
# SMTP_PORT=2525
# SMTP_USERNAME=your-mailtrap-username
# SMTP_PASSWORD=your-mailtrap-password

# PRODUCTION ENVIRONMENT EXAMPLE:
# EMAIL_ENABLED=true
# DISCORD_ENABLED=true
# WEBHOOK_ENABLED=true
# NOTIFICATION_TEST_MODE=false
# NOTIFICATION_DEBUG=false
# NOTIFICATION_ENCRYPT_DATA=true
# SMTP_HOST=smtp.yourcompany.com
# SMTP_USERNAME=notifications@yourcompany.com
# SMTP_PASSWORD=your-secure-password

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================

# 1. EMAIL SETUP (Gmail example):
#    - Enable 2-factor authentication on your Gmail account
#    - Generate an App Password: https://myaccount.google.com/apppasswords
#    - Use the App Password as SMTP_PASSWORD (not your regular password)
#    - Set SMTP_HOST=smtp.gmail.com, SMTP_PORT=587, SMTP_USE_TLS=true

# 2. DISCORD SETUP:
#    - Create a Discord webhook in your server:
#      Server Settings > Integrations > Webhooks > New Webhook
#    - Copy the webhook URL and set as DISCORD_WEBHOOK_URL
#    - Customize bot username and avatar if desired

# 3. WEBHOOK SETUP:
#    - Set up your webhook endpoint to receive POST requests
#    - Configure authentication if required
#    - Set WEBHOOK_URL to your endpoint
#    - Add WEBHOOK_AUTH_TOKEN if using bearer token authentication

# 4. TESTING:
#    - Start with NOTIFICATION_TEST_MODE=true
#    - Use mock services for initial development
#    - Test each channel individually before enabling all
#    - Monitor logs for any configuration issues

# 5. PRODUCTION DEPLOYMENT:
#    - Use environment-specific values
#    - Enable encryption for sensitive data
#    - Set up monitoring and alerting
#    - Configure appropriate rate limits
#    - Disable debug logging

# =============================================================================
# SECURITY NOTES
# =============================================================================

# - Never commit this file with real credentials to version control
# - Use strong, unique passwords for all services
# - Regularly rotate authentication tokens and passwords
# - Monitor notification logs for suspicious activity
# - Use HTTPS for all webhook endpoints
# - Consider using a dedicated email account for notifications
# - Limit Discord webhook permissions to necessary channels only
# - Implement rate limiting to prevent abuse
# - Use environment-specific configurations
# - Enable audit logging in production

# =============================================================================
# TROUBLESHOOTING
# =============================================================================

# Common issues and solutions:

# EMAIL NOT SENDING:
# - Check SMTP credentials and server settings
# - Verify firewall allows SMTP traffic
# - Check spam folders for test emails
# - Enable debug logging to see detailed error messages

# DISCORD NOT WORKING:
# - Verify webhook URL is correct and active
# - Check Discord server permissions
# - Test webhook URL manually with curl
# - Monitor Discord rate limits

# WEBHOOK FAILURES:
# - Verify endpoint is accessible and responding
# - Check authentication configuration
# - Monitor webhook endpoint logs
# - Test with tools like Postman or curl

# GENERAL DEBUGGING:
# - Enable NOTIFICATION_DEBUG=true for detailed logs
# - Use test mode to avoid sending real notifications
# - Check notification_analytics.json for delivery statistics
# - Run python scripts/test_notifications.py --dry-run
